{"version":3,"sources":["components/Hero.js","service/heroes.js","App.js","index.js"],"names":["Hero","hero","toggleImportance","deleteHero","className","style","borderBottom","name","onClick","important","marginLeft","baseurl","Axios","get","then","response","data","newObj","post","id","put","delete","App","useState","heroes","setHeroes","newHero","setNewHero","showAll","setShowAll","useEffect","heroeService","initialHeroes","heroesToShow","filter","toggleImportanceOf","find","n","changedHero","returnHeroe","map","catch","error","alert","type","key","window","confirm","onSubmit","e","preventDefault","concat","value","onChange","target","required","htmlFor","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.361ca333.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Hero = ({ hero, toggleImportance, deleteHero }) => {\r\n    // const label = hero.important\r\n    //     ? 'not important' : ' important'\r\n    return (\r\n        <div>\r\n            <li className='collection-item' style={{borderBottom:'1px solid #dadada'}}>\r\n                <span className='title'>{hero.name}</span>\r\n                <span className=\"secondary-content\">\r\n                    <button className='waves-effect waves-light btn-small ' onClick={toggleImportance}>{hero.important ? 'not important' :<i className=\"material-icons\">grade</i>}</button>\r\n                    <button style={{marginLeft:'5px'}} className='btn-floating btn-small waves-effect waves-light red' onClick={deleteHero}> <i className=\"material-icons\">delete</i></button>\r\n                </span>\r\n\r\n            </li>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Hero;","import Axios from \"axios\";\r\nconst baseurl = '/api/heroes'\r\n\r\n/**VISUALIZZA */\r\nconst getAll = () => {\r\n    const request = Axios.get(baseurl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\n/**CREA */\r\nconst create = newObj => {\r\n    const request = Axios.post(baseurl, newObj)\r\n    return request.then(response => response.data)\r\n}\r\n\r\n/**MODIFICA */\r\n\r\nconst update = (id, newObj) => {\r\n    const request = Axios.put(`${baseurl}/${id}`, newObj)\r\n    return request.then(response => response.data)\r\n}\r\n\r\n/**ELIMINA */\r\nconst deleteHero = id => {\r\n    const request = Axios.delete(`${baseurl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\nexport default {getAll,create,update,deleteHero}","import React, { useState, useEffect } from 'react'\r\nimport Hero from './components/Hero'\r\nimport heroeService from './service/heroes'\r\n\r\n\r\nconst App = () => {\r\n  const [heroes, setHeroes] = useState([])\r\n  const [newHero, setNewHero] = useState('')\r\n  const [showAll, setShowAll] = useState(true)\r\n\r\n  useEffect(() => {\r\n    heroeService\r\n      .getAll()\r\n      .then(initialHeroes => {\r\n        setHeroes(initialHeroes)\r\n      })\r\n  }, [])\r\n\r\n\r\n  const handleHeroChange = (e) => {\r\n    setNewHero(e.target.value)\r\n  }\r\n\r\n  const heroesToShow = showAll\r\n    ? heroes\r\n    : heroes.filter(hero => hero.important)\r\n\r\n  const toggleImportanceOf = id => {\r\n    const hero = heroes.find(n => n.id === id)\r\n    const changedHero = { ...hero, important: !hero.important }\r\n    heroeService\r\n      .update(id, changedHero)\r\n      .then(returnHeroe => {\r\n        setHeroes(heroes.map(hero => hero.id !== id ? hero : returnHeroe))\r\n      })\r\n      .catch(error => {\r\n        alert(\r\n          `The Hero '${hero.name} was already deleted from server`\r\n        )\r\n        setHeroes(heroes.filter(n => n.id !== id))\r\n      })\r\n  }\r\n  const deleteHero = (id, name) => {\r\n    const r = window.confirm(`Sicuro di voler cancellare l'eroe ${name} ?`)\r\n    if (r === false) {\r\n      return\r\n    } else {\r\n\r\n      heroes.filter(n => n.id === id)\r\n      heroeService\r\n        .deleteHero(id)\r\n      .then(()=>{\r\n        setHeroes(heroes.filter(hero => hero.id !== id))\r\n      })\r\n    }\r\n  }\r\n  const rows = () => heroesToShow.map(hero =>\r\n    <Hero\r\n      key={hero.id}\r\n      hero={hero}\r\n      toggleImportance={() => toggleImportanceOf(hero.id)}\r\n      deleteHero={() => deleteHero(hero.id, hero.name)}\r\n    >\r\n    </Hero>)\r\n\r\n  const addHero = (e) => {\r\n    e.preventDefault()\r\n    const heroObj = {\r\n      name: newHero\r\n    }\r\n    heroeService\r\n      .create(heroObj)\r\n      .then(returnHeroe => {\r\n        setHeroes(heroes.concat(returnHeroe))\r\n        setNewHero('')\r\n      })\r\n  }\r\n  return (\r\n    <div className=\"container\">\r\n      <div className='row'>\r\n        <h1>Heroes</h1>\r\n        <div>\r\n          <button className='waves-effect waves-light btn-small' onClick={() => setShowAll(!showAll)} type='submit'>Show{showAll ? 'Important' : 'All'}</button>\r\n        </div>\r\n        <ul className='collection'>\r\n          {rows()}\r\n        </ul>\r\n        <form onSubmit={addHero} className='col s12'>\r\n          <div className=\"input-field col s6\">\r\n            <input\r\n              id='name'\r\n              type='text'\r\n              name='name'\r\n              className='validate'\r\n              value={newHero}\r\n              onChange={handleHeroChange}\r\n              required />\r\n            <label htmlFor=\"name\">Inserisci il nome...</label>\r\n          </div>\r\n\r\n          <button className='btn-floating  waves-effect waves-light green' type='submit'><i className=\"material-icons\">add</i></button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\n\r\nReactDOM.render(<App />,document.getElementById('root'))\r\n"],"sourceRoot":""}